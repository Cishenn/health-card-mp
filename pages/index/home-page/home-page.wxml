<!--pages/index/home-page/home-page.wxml-->

<view class="title">
  <view class="title-label">我加入的小组</view>
  <view class="title-btn" bind:tap="showJoinDialog" wx:if="{{0 !== joinedGroupList.length}}">加小组</view>
</view>
<view wx:if="{{0 !== joinedGroupList.length}}" class="card-list">
  <joined-group-card wx:for="{{joinedGroupList}}" wx:key="id" groupInfo="{{item}}"></joined-group-card>
</view>
<view wx:else class="no-group">
  <view>暂时没有加入任何小组</view>
  <view class="big-btn" bind:tap="showJoinDialog">加小组</view>
</view>

<view class="title">
  <view class="title-label">我创建的小组</view>
  <navigator class="title-btn" wx:if="{{0 !== maintainedGroupList.length}}">新增</navigator>
</view>
<view wx:if="{{0 !== maintainedGroupList.length}}" class="card-list">
  <maintained-group-card wx:for="{{maintainedGroupList}}" wx:key="id" groupInfo="{{item}}"></maintained-group-card>
</view>
<view wx:else class="no-group">
  <view>暂时没有创建任何小组</view>
  <navigator class="big-btn">去创建</navigator>
</view>


<van-dialog
  id="van-dialog" 
  use-slot
  title="加入小组"
  show="{{ showJoin }}"
  show-cancel-button
  bind:confirm="joinGroup"
  bind:cancel="cancelJoinGroup"
  asyncClose
  z-index="100"
>
  <input placeholder-class="placeholder" placeholder="请输入邀请码" type="number" value="{{joiningGroupId}}" bindinput="inputId"/>
  <input placeholder-class="placeholder" placeholder="请输入真实姓名" value="{{joiningName}}" bindinput="inputName"/>
  <input placeholder-class="placeholder" placeholder="请输入手机号" type="number" maxlength="11" value="{{joiningPhone}}" bindinput="inputPhone"/>
</van-dialog>

<van-toast id="van-toast" />